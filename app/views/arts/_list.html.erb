

<div class="container">
<h2 class="text-font text-white ml-4">Search Your Title</h2>
        <input class="ml-4" id="search-text" type="text" placeholder="Write Your Title">
</div>

<div class="first container">
  <div class="row justify-content-around">
     <% @arts.each do |art| %>
        <div class="card  col-md-5 my-2">
          <%= image_tag art.image.variant(resize: '500X500'), class: 'card-img-top mt-3' if art.image.attached? %>
            <div class="card-body">
               <h5 class="card-title"><%= art.title.truncate(50) %></h5>
                <p class="card-text"><%= art.description.truncate(30) %></p>
                 <div class="">
                   <%= link_to 'Read More', art, class: 'btn btn-primary mb-2' %>
                   <small class="right"><strong>Liked <%= art.likes.count %></strong></small>
                     <% if art.comments_count %>
                     <small class="right mr-3"><strong>Comments  <%= art.comments_count %></strong></small>
                     <% end %>
                 </div>
              </div>
        </div>
      <% end %>
  </div>
</div>





<script>

   function fillter (obj, searchPhrase){
     return  obj.children[1].children[0].innerText.toLowerCase().includes(searchPhrase.toLowerCase())
   }


  const cards = document.querySelectorAll('.card')


  const renderCards = function (cards, searchPhrase) {
    cards.forEach(function (card) {
      card.classList.remove('d-none')
      console.dir(card)
      if (! fillter(card, searchPhrase)) {
       card.classList.add('d-none')
      }
    })
  }

  document.querySelector('#search-text').addEventListener('input', function (e) {
    const searchPhrase = e.target.value
    renderCards(cards, searchPhrase)
})

</script>













<style media="screen">
  body {
    background: #41295a;
    background: -webkit-linear-gradient(to right, #2F0743, #41295a);
    background: linear-gradient(to right, #2F0743, #41295a);

  }

  .container {
    margin-top: 35px;
  }

  .right{
    float: right;
  }

  .first {
      margin-top: 50px;
      margin-bottom: 100px;
  }

  .card-title{
    font-family: Playball;
  }


  .text-font{
      font-family: Playball;
  }

</style>
